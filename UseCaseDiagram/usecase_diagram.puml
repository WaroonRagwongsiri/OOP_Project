@startuml UseCaseDiagram
left to right direction

' =========================
' Actors (from hierarchy in Class Diagram)
' =========================
actor "Customer" as A_Customer
actor "Member" as A_Member
actor "Staff" as A_Staff
actor "Manager" as A_Manager

A_Customer <|-- A_Member
A_Staff <|-- A_Manager

rectangle "Store" {

	'Customer'
	usecase "AddProductToCart" as UC_AddProductToCart
	usecase "ViewCart" as UC_ViewCart
	usecase "RemoveItemFromCart" as UC_RemoveItemFromCart
	usecase "ViewStore" as UC_ViewStore
	usecase "ViewProductDetail" as UC_ViewProductDetail
	usecase "Purchase" as UC_Purchase
	usecase "UseCoupon" as UC_UseCoupon
	usecase "ConfirmOrder" as UC_ConfirmOrder
	usecase "Subscribe" as UC_Subscribe

	'Payment'
	usecase "StartPayment" as UC_StartPayment
	usecase "PayViaCard" as UC_PayViaCard
	usecase "PayViaQR" as UC_PayViaQR

	'Member'
	usecase "ApplyMemberBenefit" as UC_ApplyMemberBenefit
	usecase "VerifyMember" as UC_VerifyMember
	usecase "Unsubscribe" as UC_Unsubscribe

	'Manufacturer'
	usecase "PublishProduct" as UC_PublishProduct
	usecase "ViewProductStock" as UC_ViewProductStock
	usecase "ViewProductDetail" as UC_ViewProductDetail
	usecase "RemoveProduct" as UC_RemoveProduct
	usecase "FileAppeal" as UC_FileAppeal
	usecase "ViewOrder" as UC_ViewOrder
	usecase "ApproveOrder" as UC_ApproveOrder
	usecase "RejectOrder" as UC_RejectOrder
	usecase "CreateProduct" as UC_CreateProduct
	usecase "RefillStock" as UC_RefillStock

	'Staff'
	usecase "Checkout" as UC_Checkout
	usecase "ApplyDiscount" as UC_ApplyDiscount
	usecase "CreateMember" as UC_CreateMember

	'Manager'
	usecase "CreateGame" as UC_CreateGame
	usecase "CreateMachine" as UC_CreateMachine
	usecase "ViewProductStock" as UC_ViewProductStock
	usecase "RefillShelf" as UC_RefillShelf
	usecase "CreateCoupon" as UC_CreateCoupon
	usecase "OrderProduct" as UC_OrderProduct
	usecase "ViewStock" as UC_ViewStock

	'Room Booking'
	usecase "SearchAvailableRoom" as UC_SearchAvailableRoom
	usecase "CreateBooking" as UC_CreateBooking
	usecase "ViewBooking" as UC_ViewBooking
	usecase "CancelBooking" as UC_CancelBooking
	usecase "CheckIn" as UC_CheckIn
	usecase "ExtendTime" as UC_ExtendTime
	usecase "UpgradeRoom" as UC_UpgradeRoom
	usecase "CheckoutRoom" as UC_CheckoutRoom
	usecase "Refund" as UC_Refund
}

'Customer'
A_Customer --> UC_ViewCart
A_Customer --> UC_ViewStore
A_Customer --> UC_Purchase
A_Customer --> UC_ConfirmOrder
A_Customer --> UC_Subscribe

UC_ViewStore <.. UC_AddProductToCart : <<extend>>
UC_ViewStore <.. UC_ViewProductDetail : <<extend>>

UC_ViewProductDetail <.. UC_AddProductToCart : <<extend>>

UC_ViewCart <.. UC_RemoveItemFromCart : <<extend>>

UC_Purchase <.. UC_UseCoupon : <<extend>>
UC_Purchase ..> UC_StartPayment : <<include>>

'Payment'
UC_StartPayment <|-- UC_PayViaCard
UC_StartPayment <|-- UC_PayViaQR

'Member'
A_Member --> UC_ApplyMemberBenefit
A_Member --> UC_Unsubscribe

UC_ApplyMemberBenefit ..> UC_VerifyMember : <<include>>

UC_ViewOrder <.. UC_ApproveOrder : <<extend>>
UC_ViewOrder <.. UC_RejectOrder : <<extend>>

UC_ViewProductStock <.. UC_RemoveProduct : <<extend>>
UC_ViewProductStock <.. UC_ViewProductDetail : <<extend>>
UC_ViewProductStock <.. UC_FileAppeal : <<extend>>
UC_ViewProductStock <.. UC_RefillStock : <<extend>>

'Staff'
A_Staff --> UC_Checkout
A_Staff --> UC_ViewProductStock
A_Staff --> UC_CreateMember
A_Staff --> UC_CheckIn
A_Staff --> UC_CheckoutRoom

UC_CheckoutRoom <.. UC_Refund : <<extend>>
UC_CheckoutRoom <.. UC_ExtendTime : <<extend>>
UC_CheckoutRoom <.. UC_UpgradeRoom : <<extend>>

UC_Checkout <.. UC_ApplyDiscount : <<extend>>
UC_ViewProductStock <.. UC_RefillShelf : <<extend>>

'Manager'
A_Manager --> UC_CreateCoupon
A_Manager --> UC_ViewProductStock
A_Manager --> UC_CreateGame
A_Manager --> UC_CreateMachine
A_Manager --> UC_OrderProduct

'Customer / Member booking
A_Customer --> UC_SearchAvailableRoom
A_Customer --> UC_CreateBooking
A_Customer --> UC_ViewBooking
A_Customer --> UC_CancelBooking

UC_CreateBooking ..> UC_VerifyMember : <<include>>
UC_CreateBooking ..> UC_StartPayment : <<include>>
UC_CreateBooking <.. UC_UseCoupon : <<exclude>>

@enduml
